
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Aid Quiz - 20 Questions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #game-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            width: 100%;
        }
        .answer-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .answer-btn:hover {
            background-color: #45a049;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        #next-btn, #finish-btn, #restart-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #008CBA;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        #progress {
            margin-bottom: 20px;
        }
        #review-container {
            margin-top: 20px;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
        }
        .review-item {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .correct {
            background-color: #d4edda;
        }
        .incorrect {
            background-color: #f8d7da;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h2>First Aid Quiz - 20 Questions</h2>
        <div id="progress"></div>
        <div id="quiz-section">
            <p id="question"></p>
            <div id="answers"></div>
            <p id="result"></p>
            <button id="next-btn" onclick="nextQuestion()">Next Question</button>
            <button id="finish-btn" onclick="finishQuiz()" style="display: none;">Finish Quiz</button>
        </div>
        <div id="score-section" style="display: none;">
            <h3>Quiz Completed!</h3>
            <p id="score"></p>
            <button id="review-btn" onclick="showReview()">Review Answers</button>
            <button id="restart-btn" onclick="restartQuiz()">Restart Quiz</button>
        </div>
        <div id="review-container" style="display: none;"></div>
    </div>

    <script>
        const terms = [
            { english: "Definition of First Aid and Objectives", chinese: "急救定义和目标" },
            { english: "Body Systems", chinese: "身体系统" },
            { english: "Action at an Emergency", chinese: "紧急情况下的行动" },
            { english: "Universal Precautions", chinese: "通用预防措施" },
            { english: "Pocket Mask and Gloves Kit", chinese: "口袋面罩和手套套装" },
            { english: "Universal Precaution Kit", chinese: "通用预防套装" },
            { english: "Cardio Pulmonary Resuscitation – Adult", chinese: "心肺复苏 - 成人" },
            { english: "Cardio Pulmonary Resuscitation – Child", chinese: "心肺复苏 - 儿童" },
            { english: "Alternate Method for Locating the Compression Point", chinese: "定位胸外按压点的替代方法" },
            { english: "Cardio Pulmonary Resuscitation – Infant", chinese: "心肺复苏 - 婴儿" },
            { english: "Recovery Position", chinese: "恢复体位" },
            { english: "MedLink", chinese: "医疗链接" },
            { english: "Unconsciousness", chinese: "失去意识" },
            { english: "Shock", chinese: "休克" },
            { english: "Fainting", chinese: "晕厥" },
            { english: "Choking", chinese: "窒息" },
            { english: "Gas Expansion", chinese: "气体膨胀" },
            { english: "Airsickness/Motion Sickness", chinese: "晕机/晕动病" },
            { english: "Heart Disorders", chinese: "心脏疾病" },
            { english: "Automated External Defibrillator (AED)", chinese: "自动体外除颤器（AED）" },
            { english: "Stroke", chinese: "中风" },
            { english: "Deep Vein Thrombosis (DVT)", chinese: "深静脉血栓（DVT）" },
            { english: "Diabetes", chinese: "糖尿病" },
            { english: "Sharps Box", chinese: "锐器盒" },
            { english: "Needle-Stick Injury", chinese: "针刺伤" },
            { english: "Hypoxia", chinese: "缺氧" },
            { english: "Hyperventilation", chinese: "过度换气" },
            { english: "Hysterical Attack", chinese: "歇斯底里发作" },
            { english: "Asthma", chinese: "哮喘" },
            { english: "Portable Gaseous Oxygen Bottle", chinese: "便携式气态氧气瓶" },
            { english: "Spare Oxygen Mask", chinese: "备用氧气面罩" },
            { english: "Zero Two Bottle", chinese: "零二氧气瓶" },
            { english: "Epilepsy", chinese: "癫痫" },
            { english: "Fever", chinese: "发烧" },
            { english: "Nose Bleeding", chinese: "鼻出血" },
            { english: "Bleeding – External", chinese: "出血 - 外部" },
            { english: "Bleeding – Internal", chinese: "出血 - 内部" },
            { english: "Burns and Scalds", chinese: "烧伤和烫伤" },
            { english: "Medication Box", chinese: "药品箱" },
            { english: "Dressing Box", chinese: "敷料箱" },
            { english: "Fracture and Dislocation", chinese: "骨折和脱位" },
            { english: "Head Injuries", chinese: "头部受伤" },
            { english: "Back and Neck Injuries", chinese: "背部和颈部受伤" },
            { english: "Strains and Sprains", chinese: "扭伤和拉伤" },
            { english: "Bruises", chinese: "瘀伤" },
            { english: "Stun Gun Injury", chinese: "电击枪伤害" },
            { english: "Splint Pack", chinese: "夹板包" },
            { english: "AED", chinese: "自动体外除颤器" },
            { english: "When to Stop CPR", chinese: "何时停止心肺复苏" },
            { english: "Body Bag", chinese: "尸体袋" },
            { english: "Moving Incapacitated Person", chinese: "移动丧失行为能力的人" },
            { english: "Poisoning", chinese: "中毒" },
            { english: "Alcohol Intoxication", chinese: "酒精中毒" },
            { english: "Drug Intoxication or Poisoning", chinese: "药物中毒" },
            { english: "Allergic Reactions", chinese: "过敏反应" },
            { english: "Aviation Fluid Contamination", chinese: "航空液体污染" },
            { english: "Smoke, Fumes or Gas Exposure", chinese: "烟雾、气体或有毒气体暴露" },
            { english: "Emergency Childbirth", chinese: "紧急分娩" },
            { english: "Miscarriage", chinese: "流产" },
            { english: "Blood and Body Fluid Exposure", chinese: "血液和体液接触" },
            { english: "First Aid Kit", chinese: "急救包" },
            { english: "Inflight Medical Kit", chinese: "机上医疗包" },
            { english: "Handling of Seriously Ill or Injured Passenger/Crew", chinese: "处理严重生病或受伤的乘客/机组人员" },
            { english: "Infectious Disease", chinese: "传染病" },
            { english: "Handling Procedure for an Apparent Death Inflight", chinese: "机上明显死亡的处理程序" }
        ];

        const QUIZ_LENGTH = 20;
        let currentQuestionIndex = 0;
        let score = 0;
        let quizResults = [];
        let quizQuestions = [];

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            quizResults = [];
            generateQuizQuestions();
            nextQuestion();
        }

        function generateQuizQuestions() {
            quizQuestions = shuffleArray([...terms]).slice(0, QUIZ_LENGTH);
        }

        function nextQuestion() {
            if (currentQuestionIndex >= QUIZ_LENGTH) {
                finishQuiz();
                return;
            }

            const currentTerm = quizQuestions[currentQuestionIndex];
            const questionEl = document.getElementById("question");
            const isEnglishQuestion = Math.random() < 0.5;

            if (isEnglishQuestion) {
                questionEl.textContent = `What is the Chinese translation of "${currentTerm.english}"?`;
            } else {
                questionEl.textContent = `What is the English translation of "${currentTerm.chinese}"?`;
            }

            const answersEl = document.getElementById("answers");
            answersEl.innerHTML = "";

            let options = [currentTerm];
            while (options.length < 4) {
                let randomTerm = terms[Math.floor(Math.random() * terms.length)];
                if (!options.includes(randomTerm)) {
                    options.push(randomTerm);
                }
            }
            options = shuffleArray(options);

            options.forEach(option => {
                const button = document.createElement("button");
                button.className = "answer-btn";
                button.textContent = isEnglishQuestion ? option.chinese : option.english;
                button.onclick = () => checkAnswer(option, currentTerm, isEnglishQuestion);
                answersEl.appendChild(button);
            });

            document.getElementById("result").textContent = "";
            document.getElementById("progress").textContent = `Question ${currentQuestionIndex + 1} of ${QUIZ_LENGTH}`;

            if (currentQuestionIndex === QUIZ_LENGTH - 1) {
                document.getElementById("next-btn").style.display = "none";
                document.getElementById("finish-btn").style.display = "inline-block";
            } else {
                document.getElementById("next-btn").style.display = "inline-block";
                document.getElementById("finish-btn").style.display = "none";
            }
        }

        function checkAnswer(selectedTerm, correctTerm, isEnglishQuestion) {
            const resultEl = document.getElementById("result");
            let isCorrect = selectedTerm === correctTerm;
            if (isCorrect) {
                resultEl.textContent = "Correct!";
                resultEl.style.color = "green";
                score++;
            } else {
                resultEl.textContent = `Incorrect. The correct answer is: ${isEnglishQuestion ? correctTerm.chinese : correctTerm.english}`;
                resultEl.style.color = "red";
            }

            quizResults.push({
                question: isEnglishQuestion ? correctTerm.english : correctTerm.chinese,
                correctAnswer: isEnglishQuestion ? correctTerm.chinese : correctTerm.english,
                userAnswer: isEnglishQuestion ? selectedTerm.chinese : selectedTerm.english,
                isCorrect: isCorrect
            });

            document.querySelectorAll(".answer-btn").forEach(btn => btn.disabled = true);
            currentQuestionIndex++;
        }

        function finishQuiz() {
            document.getElementById("quiz-section").style.display = "none";
            document.getElementById("score-section").style.display = "block";
            document.getElementById("score").textContent = `Your score: ${score} out of ${QUIZ_LENGTH}`;
        }

        function showReview() {
            const reviewContainer = document.getElementById("review-container");
            reviewContainer.innerHTML = "<h3>Review</h3>";
            reviewContainer.style.display = "block";

            quizResults.forEach((result, index) => {
                const reviewItem = document.createElement("div");
                reviewItem.className = `review-item ${result.isCorrect ? 'correct' : 'incorrect'}`;
                reviewItem.innerHTML = `
                    <strong>Question ${index + 1}:</strong> ${result.question}<br>
                    <strong>Your Answer:</strong> ${result.userAnswer}<br>
                    <strong>Correct Answer:</strong> ${result.correctAnswer}
                `;
                reviewContainer.appendChild(reviewItem);
            });
        }

        function restartQuiz() {
            document.getElementById("quiz-section").style.display = "block";
            document.getElementById("score-section").style.display = "none";
            document.getElementById("review-container").style.display = "none";
            startQuiz();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        startQuiz();
    </script>
</body>
</html>